<html>
<head>
</head>
<body bgcolor="white">

Provides access to the database. All database access must go through this
class, in order to keep database specific code isolated from other parts of
the game.<p>
All database centric methods have "default" package scope, so they can be
used only within this package. All public methods will never return database
objects. This keeps the database part separate from the mud.
</PRE>

Database structure is the following:
<P>(<I>* denotes primary key</I>)
<TABLE>
<TR><TD>Tablename</TD><TD>Description</TD></TR>
<TR><TD>mm_roomattributes</TD><TD></TD></TR>
<TR><TD>mm_charattributes</TD><TD></TD></TR>
<TR><TD>mm_itemattributes</TD><TD></TD></TR>
<TR><TD>mm_logonmessage</TD><TD></TD></TR>

<TR><TD>mm_sillynamestable</TD><TD></TD></TR>
<TR><TD>mm_unbantable</TD><TD></TD></TR>
<TR><TD>mm_bantable</TD><TD></TD></TR>
<TR><TD>mm_errormessages</TD><TD></TD></TR>
<TR><TD>mm_help</TD><TD></TD></TR>

<TR><TD>mm_items</TD><TD></TD></TR>
<TR><TD>mm_shopkeeperitems</TD><TD>Provides wich items a shopkeeper is
allowed to sell/buy and when the shopkeeper decides to stop buying items
from characters (i.e. when the shop has plenty of those specific items in
supply)</TD></TR>
<TR><TD>mm_itemtable</TD><TD></TD></TR>
<TR><TD>mm_charitemtable</TD><TD></TD></TR>
<TR><TD>mm_itemitemtable</TD><TD></TD></TR>
<TR><TD>mm_roomitemtable</TD><TD></TD></TR>

<TR><TD>mm_rooms</TD><TD></TD></TR>
<TR><TD>mm_area</TD><TD>Provides an clustering of rooms called an area.
Every room is identified as belonging to a area, the main area being
called "<I>Main</I>".</TD></TR>
<TR><TD>mm_usertable</TD><TD></TD></TR>
<TR><TD>mm_mailtable</TD><TD></TD></TR>
<TR><TD>mm_boards</TD><TD>Identifies individual public message boards,</TD></TR>
<TR><TD>mm_boardmessages</TD><TD>Contains all messages posted on the public
message boards.</TD></TR>

<TR><TD>mm_log</TD><TD>Logging table, for describing important events in the
life of characters and administrators.</TD></TR>
<TR><TD></TD><TD></TD></TR>
</TABLE>
<PRE>
+---------------------+
| mm_itemattributes   |
+---------------------+
|*name                |
| value               |
| value_type          |
|*id                  |
+---------------------+

+---------------------+
| mm_roomattributes   |
+---------------------+
|*name                |
| value               |
| value_type          |
|*id                  |
+---------------------+

+---------------------+
| mm_charattributes   |
+---------------------+
|*name                |
| value               |
| value_type          |
|*charname            |
+---------------------+

</PRE>
<H3>mm_items</H3>
<DL>
<DT>id
<DD>identification of this item definition, integer.
<DT>wearable
<DD>how this item is to be worn as a bitmask, integer. Values :
1=head,2=neck,4=torso,8=arms,16=leftwrist,32=rightwrist,64=leftfinger,
128=rightfinger,256=feet,512=hands,1024=floating,2048=waist,
4096=legs,8192=eyes,16384=ears,32768=body,65536=wield lefthand,
131072=wield righthand,262144=wielding both hands
</DL>
<PRE>
+---------------------+
| mm_shopkeeperitems  |
+---------------------+
|*id                  |
| max                 |
|*charname            |
+---------------------+

+---------------------+
| mm_itemtable        |
+---------------------+
|*id                  |
| itemid              |
+---------------------+

+---------------------+
| mm_charitemtable    |
+---------------------+
|*id                  |
| belongsto           |
| wearing             |
+---------------------+

+---------------------+
| mm_roomitemtable    |
+---------------------+
|*id                  |
| room                |
| search              |
+---------------------+

+---------------------+
| mm_itemitemtable    |
+---------------------+
|*id                  |
| containerid         |
+---------------------+

+---------------------+
| mm_rooms            |
+---------------------+
|*id                  |
| west                |
| east                |
| north               |
| south               |
| up                  |
| down                |
| contents            |
| owner               |
| creation            |
| area                |
+---------------------+

+---------------------+
| mm_area             |
+---------------------+
|*area                |
| description         |
| shortdesc           |
| owner               |
| creation            |
+---------------------+

+---------------------+
| mm_usertable        |
+---------------------+
|*name                |
+---------------------+

+---------------------+
| mm_logonmessage     |
+---------------------+

+---------------------+
| mm_mailtable        |
+---------------------+

+---------------------+
| mm_sillynamestable  |
+---------------------+

+---------------------+
| mm_unbantable       |
+---------------------+

+---------------------+
| mm_bantable         |
+---------------------+

+---------------------+
| mm_errormessages    |
+---------------------+

+---------------------+
| mm_help             |
+---------------------+

+---------------------+
| mm_log              |
+---------------------+
|*creation            |
|*name                |
| message             |
+---------------------+

+---------------------+
| mm_boards           |
+---------------------+
|*id                  |
| name                |
| description         |
| owner               |
| creation            |
+---------------------+

+---------------------+
| mm_boardmessgages   |
+---------------------+
|*boardid             |
|*name                |
|*posttime            |
| message             |
+---------------------+
</PRE>

The following tables are not related directly to the mud. They are used
mainly for information regarding webside scripts. These tables are easily
recognized because they do not start with the prefix "mm_".<P>
(<I>* denotes primary key</I>)
<TABLE>
<TR><TD>Tablename</TD><TD>Description</TD></TR>
<TR><TD>characterinfo</TD><TD>contains story information regarding certain
characters.</TD></TR>
<TR><TD>family</TD><TD>shows the family relations between characters.</TD></TR>
<TR><TD>familyvalues</TD><TD>provides a number of possible family relations.
</TD></TR>
<TR><TD>polls</TD><TD>contains the different polls.</TD></TR>
<TR><TD>poll_choices</TD><TD>contains the possible choices per poll.
</TD></TR>
<TR><TD>poll_values</TD><TD>contains the answers of users to the different
polls.</TD></TR>
<TR><TD></TD><TD></TD></TR>
</TABLE>
<PRE>
+---------------------+
| characterinfo       |
+---------------------+
|*name                |
| imageurl            |
| homepageurl         |
| dateofbirth         |
| cityofbirth         |
| storyline           |
+---------------------+

+---------------------+
| family              |
+---------------------+
|*name                |
|*toname              |
| description         |
+---------------------+

+---------------------+
| familyvalues        |
+---------------------+
|*id                  |
| description         |
+---------------------+

+---------------------+
| polls               |
+---------------------+
|*id                  |
| title               |
| description         |
| closed              |
+---------------------+

+---------------------+
| poll_choices        |
+---------------------+
|*id                  |
|*pollid              |
| choice              |
+---------------------+

+---------------------+
| poll_values         |
+---------------------+
|*id                  |
|*name                |
| value               |
| comments            |
+---------------------+
</PRE>

</body>
</html>
